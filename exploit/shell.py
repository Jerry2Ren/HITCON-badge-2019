#!/usr/bin/env python
import serial

s = serial.Serial( '/dev/tty.usbmodem14101' )

def readuntil( n ):
    buf = ''
    while True:
        c = s.read()
        buf += c
        if n in buf:
            return buf

prompt = 'HitconBadge2019 >> '

def shell( cmd ):
    s.write( cmd + '\r' )
    print readuntil( prompt )

def interactive():
    while True:
        try:
            cmd = raw_input().strip()
            if cmd == 'exit':
                break
            shell( cmd )
        except KeyboardInterrupt:
            break

shell( 'ping' )

interactive()